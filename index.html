<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <title>Casa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
    <link rel="apple-touch-icon" sizes="192x192" href="/icon.png">
    <link rel="manifest" href="/manifest.json" />
</head>

<body>
    <header>
        <h1>Casa</h1>
        <form action="/add" method="post">
            <input placeholder="Kremówki papieskie" autocomplete="off" name="name">
            <input id="value" autocomplete="off" placeholder="21.37" inputmode="decimal" type="number" step="0.01" name="value">
            <select name="currency" id="currency">
                <option value="">-- Wybierz walutę --</option>
                <option value="EUR">EUR</option>
                <option value="PLN">PLN</option>
		    </select>
            <input type="date" name="date" value="{{ today }}">
            <button type="submit">Dodaj</button>
        </form>
    </header>
    <a href="/">Odśwież</a>
    {% for month_expenses in expenses %}
        <details{% if loop.first %} open{% endif %}>
        <summary>{{ month_expenses['month'] }} {{ month_expenses['year'] }}</summary>
        {% for expense in month_expenses['items'] %}
	<p>{{ expense.name }} ({{ expense_formatter(expense.value, expense.currency) }})</p>
        {% endfor %}
	</details>
    {% endfor %}
    <details>
        <summary>Podsumowanie</summary>
        <ul>
            {% for currency, balance in balance.items() %}
                <li>{{ currency }}: {{ balance }}</li>
            {% endfor %}
        </ul>
        <p>{{ notepad | safe }}</p>
    </details>
    <footer>
        <p>
            <small>{{ random_quote }}</small>
        </p>
        <p>Made with ❤️ by Adrian Sadłocha.</p>
    </footer>
